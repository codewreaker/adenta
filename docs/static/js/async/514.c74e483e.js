"use strict";(self.webpackChunkrslib_website=self.webpackChunkrslib_website||[]).push([["514"],{5641:function(e,s,r){r.r(s),r.d(s,{default:()=>o});var i=r(813),n=r(7522);function l(e){let s={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"libid",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#libid",children:"#"}),"lib.id"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Type:"})," ",(0,i.jsx)(s.code,{children:"string"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Default:"})," ",(0,i.jsx)(s.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Specify the library ID. The ID identifies the library and is useful when using the ",(0,i.jsx)(s.code,{children:"--lib"})," flag to build specific libraries with a meaningful ",(0,i.jsx)(s.code,{children:"id"})," in the CLI."]}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,i.jsx)(s.div,{className:"rspress-directive-content",children:(0,i.jsxs)(s.p,{children:["Rslib uses Rsbuild's ",(0,i.jsx)(s.a,{href:"https://rsbuild.rs/guide/advanced/environments",rel:"noopener noreferrer",target:"_blank",children:"environments"})," feature to build multiple libraries in a single project under the hood. ",(0,i.jsx)(s.code,{children:"lib.id"})," will be used as the key for the generated Rsbuild environment."]})})]}),"\n",(0,i.jsxs)(s.h2,{id:"default-value",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#default-value",children:"#"}),"Default value"]}),"\n",(0,i.jsxs)(s.p,{children:["By default, Rslib automatically generates an ID for each library in the format ",(0,i.jsx)(s.code,{children:"${format}${index}"}),". Here, ",(0,i.jsx)(s.code,{children:"format"})," refers to the value specified in the current lib's ",(0,i.jsx)(s.a,{href:"/config/lib/format",children:"format"}),", and ",(0,i.jsx)(s.code,{children:"index"})," indicates the order of the library within all libraries of the same format. If there is only one library with the current format, the ",(0,i.jsx)(s.code,{children:"index"})," will be empty. Otherwise, it will start from ",(0,i.jsx)(s.code,{children:"0"})," and increment."]}),"\n",(0,i.jsxs)(s.p,{children:["For example, the libraries in the ",(0,i.jsx)(s.code,{children:"esm"})," format will start from ",(0,i.jsx)(s.code,{children:"esm0"}),", followed by ",(0,i.jsx)(s.code,{children:"esm1"}),", ",(0,i.jsx)(s.code,{children:"esm2"}),", and so on. In contrast, ",(0,i.jsx)(s.code,{children:"cjs"})," and ",(0,i.jsx)(s.code,{children:"umd"})," formats do not include the ",(0,i.jsx)(s.code,{children:"index"})," part since there is only one library for each format."]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"rslib.config.ts",children:(0,i.jsxs)(s.code,{className:"language-ts",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" default"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  lib"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ["})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'esm'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // id is `esm0`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'cjs'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // id is `cjs`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'esm'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // id is `esm1`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'umd'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // id is `umd`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'esm'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // id is `esm2`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  ]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,i.jsxs)(s.h2,{id:"customize-id",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#customize-id",children:"#"}),"Customize ID"]}),"\n",(0,i.jsxs)(s.p,{children:["You can also specify a readable or meaningful ID of the library by setting the ",(0,i.jsx)(s.code,{children:"id"})," field in the library configuration. The user-specified ID will take priority, while the rest will be used together to generate the default ID."]}),"\n",(0,i.jsxs)(s.p,{children:["For example, ",(0,i.jsx)(s.code,{children:"my-lib-a"}),", ",(0,i.jsx)(s.code,{children:"my-lib-b"}),", and ",(0,i.jsx)(s.code,{children:"my-lib-c"})," will be the IDs of the specified libraries, while the rest will be used to generate and apply the default ID."]}),"\n","\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"rslib.config.ts",children:(0,i.jsxs)(s.code,{className:"language-ts",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" default"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  lib"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ["})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'esm'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'my-lib-a'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // ID is `my-lib-a`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'cjs'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'my-lib-b'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // ID is `my-lib-b`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'esm'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"                 // ID is `esm0`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'umd'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'my-lib-c'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // ID is `my-lib-c`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    { format"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'esm'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"                 // ID is `esm1`"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  ]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n","\n",(0,i.jsxs)(s.p,{children:["Then you could only build ",(0,i.jsx)(s.code,{children:"my-lib-a"})," and ",(0,i.jsx)(s.code,{children:"my-lib-b"})," by running the following command:"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsx)(s.code,{className:"language-bash",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" rslib"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" --lib"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" my-lib-a"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" --lib"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" my-lib-b"})]})})})}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive note",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"NOTE"}),(0,i.jsx)(s.div,{className:"rspress-directive-content",children:(0,i.jsx)(s.p,{children:"\nThe id of each library must be unique, otherwise it will cause an error."})})]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,n.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["en%2Fconfig%2Flib%2Fid.mdx"]={toc:[{id:"default-value",text:"Default value",depth:2},{id:"customize-id",text:"Customize ID",depth:2}],title:"lib.id",headingTitle:"lib.id",frontmatter:{}}}}]);