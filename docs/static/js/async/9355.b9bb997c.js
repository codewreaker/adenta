"use strict";(self.webpackChunkrslib_website=self.webpackChunkrslib_website||[]).push([["9355"],{2614:function(e,s,r){r.r(s),r.d(s,{default:()=>a});var o=r(813),n=r(7522),i=r(6693),t=r(3354);function l(e){let s={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...(0,n.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.h1,{id:"use-storybook",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#use-storybook",children:"#"}),"Use Storybook"]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.a,{href:"https://storybook.js.org/",rel:"noopener noreferrer",target:"_blank",children:"Storybook"})," is a powerful tool for developing UI components in isolation for React, Vue, and other frameworks. It enables you to build and test components independently, which can accelerate both development and testing."]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.a,{href:"https://github.com/rspack-contrib/storybook-rsbuild",rel:"noopener noreferrer",target:"_blank",children:"storybook-rsbuild"})," is the Rsbuild powered Storybook builder, and provided the framework integration for React, Vue3 and vanilla JavaScript. The coherent Rsbuild system could make Storybook use an unified configuration with Rslib."]}),"\n",(0,o.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,o.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,o.jsx)(s.div,{className:"rspress-directive-content",children:(0,o.jsxs)(s.p,{children:["\nYou can create a new project with Storybook by using ",(0,o.jsx)(s.a,{href:"/guide/start/quick-start#creating-an-rslib-project",children:"create-rslib"}),"."]})})]}),"\n",(0,o.jsxs)(s.h2,{id:"getting-started",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#getting-started",children:"#"}),"Getting started"]}),"\n",(0,o.jsxs)(s.h3,{id:"setup-a-rslib-project",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#setup-a-rslib-project",children:"#"}),"Setup a Rslib project"]}),"\n",(0,o.jsxs)(s.p,{children:["This is the prerequisite for setting up Storybook. You need to have a Rslib project with components that you want to showcase in Storybook, check out ",(0,o.jsx)(s.a,{href:"/guide/solution/",children:"Solution"})," to setup a Rslib project."]}),"\n",(0,o.jsxs)(s.h3,{id:"add-storybook-to-project",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#add-storybook-to-project",children:"#"}),"Add Storybook to project"]}),"\n",(0,o.jsxs)(s.p,{children:["Set up a Storybook project with an existing Rslib project. To use React, Vue 3, vanilla JavaScript, or other frameworks, you must first install the appropriate Storybook framework package. For installation instructions, refer to the ",(0,o.jsx)(s.a,{href:"https://storybook.rsbuild.rs/guide/framework.html",rel:"noopener noreferrer",target:"_blank",children:"Storybook Rsbuild documentation"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"Using React as an example, at this step you need to:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsx)(s.p,{children:"Install the dependencies for Storybook Rsbuild React framework. The essential ones include"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://www.npmjs.com/package/storybook",rel:"noopener noreferrer",target:"_blank",children:"storybook"}),": The Storybook core."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://www.npmjs.com/package/@storybook/addon-essentials",rel:"noopener noreferrer",target:"_blank",children:"@storybook/addon-essentials"}),": a curated collection of addons to bring out the best of Storybook."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://www.npmjs.com/package/@rsbuild/core",rel:"noopener noreferrer",target:"_blank",children:"@rsbuild/core"}),": Storybook builder."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://www.npmjs.com/package/storybook-addon-rslib",rel:"noopener noreferrer",target:"_blank",children:"storybook-addon-rslib"}),": This addon will make Storybook Rsbuild could derive Rsbuild configuration from Rslib config file.\nThe addon will automatically read the Rslib configuration and apply it to Storybook Rsbuild, ensuring that the configuration is unified. You can check the ",(0,o.jsx)(s.a,{href:"https://storybook.rsbuild.rs/guide/integrations/rslib.html",rel:"noopener noreferrer",target:"_blank",children:"storybook-addon-rslib"})," documentation for available options."]}),"\n"]}),"\n",(0,o.jsx)(i.SU,{command:{npm:"npm add storybook @storybook/addon-essentials storybook-addon-rslib @rsbuild/core -D",yarn:"yarn add storybook @storybook/addon-essentials storybook-addon-rslib @rsbuild/core -D",pnpm:"pnpm add storybook @storybook/addon-essentials storybook-addon-rslib @rsbuild/core -D",bun:"bun add storybook @storybook/addon-essentials storybook-addon-rslib @rsbuild/core -D"}}),"\n",(0,o.jsxs)(s.p,{children:["The dependencies varies for each framework, please refer to the ",(0,o.jsx)(s.a,{href:"https://storybook.rsbuild.rs/guide/framework.html",rel:"noopener noreferrer",target:"_blank",children:"Storybook Rsbuild documentation"})," for details. In this React example, we will install ",(0,o.jsx)(s.a,{href:"https://www.npmjs.com/package/storybook-react-rsbuild",rel:"noopener noreferrer",target:"_blank",children:"storybook-react-rsbuild"})," as the framework integration."]}),"\n",(0,o.jsxs)(t.mQ,{children:[(0,o.jsx)(t.OK,{label:"React",children:(0,o.jsx)(i.SU,{command:"add storybook-react-rsbuild -D"})}),(0,o.jsx)(t.OK,{label:"Vue",children:(0,o.jsx)(i.SU,{command:"add storybook-vue3-rsbuild -D"})})]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["Configure the Storybook configuration file ",(0,o.jsx)(s.code,{children:".storybook/main.js"}),", specify the stories and addons, and set the framework with corresponding framework integration."]}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:".storybook/main.js",children:(0,o.jsxs)(s.code,{className:"language-js",children:[(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" default"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  stories"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ["})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"    '../stories/**/*.mdx'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"    '../stories/**/*.stories.@(js|jsx|mjs|ts|tsx)'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  ]"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  addons"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@storybook/addon-essentials'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'storybook-addon-rslib'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"]"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  framework"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'storybook-react-rsbuild'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // storybook-react-rsbuild for example"})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["Add a simple story to the ",(0,o.jsx)(s.code,{children:"stories"})," directory. For example, create a ",(0,o.jsx)(s.code,{children:"Button.stories.js"})," file with the following content:"]}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"stories/Button.stories.js",children:(0,o.jsxs)(s.code,{className:"language-js",children:[(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { Button } "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '../src/Button'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,o.jsx)(s.span,{className:"line"}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" meta"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  title"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'Example/Button'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  component"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" Button"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})}),"\n",(0,o.jsx)(s.span,{className:"line"}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" default"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" meta;"})]}),"\n",(0,o.jsx)(s.span,{className:"line"}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Primary"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  args"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    primary"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    label"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'Button'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,o.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,o.jsx)(s.div,{className:"rspress-directive-content",children:(0,o.jsxs)(s.p,{children:["\nIn case you are using ",(0,o.jsx)(s.a,{href:"https://yarnpkg.com/features/pnp",rel:"noopener noreferrer",target:"_blank",children:"Yarn Plug-n-Play"})," or your project is set up within a mono repository environment, you might run into issues with module resolution. In such cases, you can add an ",(0,o.jsx)(s.code,{children:"getAbsolutePath('storybook-addon-rslib')"})," function to resolve the addon. Check the ",(0,o.jsx)(s.a,{href:"https://storybook.js.org/docs/faq#how-do-i-fix-module-resolution-in-special-environments",rel:"noopener noreferrer",target:"_blank",children:"Storybook's FAQ"})," for more information."]})})]}),"\n",(0,o.jsx)(s.p,{children:"There you go, you could start and build the Storybook server with the following command:"}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-bash",children:[(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" storybook"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" dev"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"   //"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" development"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" mode"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" storybook"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" //"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" static"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" files"})]})]})})}),"\n",(0,o.jsxs)(s.p,{children:["Check out more details in the ",(0,o.jsx)(s.a,{href:"https://storybook.rsbuild.rs/",rel:"noopener noreferrer",target:"_blank",children:"Storybook Rsbuild documentation"})," and the ",(0,o.jsx)(s.a,{href:"https://storybook.js.org/docs/react/get-started/introduction",rel:"noopener noreferrer",target:"_blank",children:"Storybook documentation"}),"."]}),"\n",(0,o.jsxs)(s.h2,{id:"example",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"}),"Example"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://github.com/rspack-contrib/storybook-rsbuild/tree/main/sandboxes/rslib-react-component",rel:"noopener noreferrer",target:"_blank",children:"React component library + Rslib + Storybook"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://github.com/rspack-contrib/storybook-rsbuild/tree/main/sandboxes/rslib-vue3-component",rel:"noopener noreferrer",target:"_blank",children:"Vue component library + Rslib + Storybook"})}),"\n"]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,n.a)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["en%2Fguide%2Fadvanced%2Fstorybook.mdx"]={toc:[{id:"getting-started",text:"Getting started",depth:2},{id:"setup-a-rslib-project",text:"Setup a Rslib project",depth:3},{id:"add-storybook-to-project",text:"Add Storybook to project",depth:3},{id:"example",text:"Example",depth:2}],title:"Use Storybook",headingTitle:"Use Storybook",frontmatter:{}}}}]);