"use strict";(self.webpackChunkrslib_website=self.webpackChunkrslib_website||[]).push([["4493"],{2452:function(e,s,r){r.r(s),r.d(s,{default:()=>a});var n=r(813),i=r(7522),l=r(5079);function o(e){let s={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.h1,{id:"resolve",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#resolve",children:"#"}),"resolve"]}),"\n",(0,n.jsx)(s.p,{children:"Options for module resolution."}),"\n",(0,n.jsxs)(s.h2,{id:"resolvealiasstrategy",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#resolvealiasstrategy",children:"#"}),"resolve.aliasStrategy ",(0,n.jsx)(l.J,{path:"/config/resolve/alias-strategy",text:"resolve.aliasStrategy"})]}),"\n",(0,n.jsxs)(s.p,{children:["Control the priority between the ",(0,n.jsx)(s.code,{children:"resolve.alias"})," option and the ",(0,n.jsx)(s.code,{children:"paths"})," option in ",(0,n.jsx)(s.code,{children:"tsconfig.json"}),"."]}),"\n",(0,n.jsxs)(s.h2,{id:"resolvealias",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#resolvealias",children:"#"}),"resolve.alias ",(0,n.jsx)(l.J,{path:"/config/resolve/alias",text:"resolve.alias"})]}),"\n",(0,n.jsxs)(s.p,{children:["Set the alias for the module path, which is used to simplify the import path or redirect the module reference, similar to the ",(0,n.jsx)(s.a,{href:"https://rspack.rs/config/resolve#resolvealias",rel:"noopener noreferrer",target:"_blank",children:"resolve.alias"})," config of Rspack."]}),"\n",(0,n.jsxs)(s.p,{children:["For TypeScript projects, you only need to configure ",(0,n.jsx)(s.a,{href:"https://www.typescriptlang.org/tsconfig/#paths",rel:"noopener noreferrer",target:"_blank",children:"compilerOptions.paths"})," in the ",(0,n.jsx)(s.code,{children:"tsconfig.json"})," file. Rslib will automatically recognize it, so there is no need to configure the ",(0,n.jsx)(s.code,{children:"resolve.alias"})," option separately."]}),"\n",(0,n.jsxs)(s.p,{children:["It is worth noting that in bundle mode, both ",(0,n.jsx)(s.code,{children:"resolve.alias"})," and ",(0,n.jsx)(s.a,{href:"/config/rsbuild/output#outputexternals",children:"output.externals"})," can be used to set aliases, but they differ in the following ways:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"resolve.alias"})," is used to replace the target module with another module, which will be bundled into the output."]}),"\n",(0,n.jsxs)(s.p,{children:["For example, if you want to replace ",(0,n.jsx)(s.code,{children:"lodash"})," with ",(0,n.jsx)(s.code,{children:"lodash-es"})," when bundling a package, you can configure it as follows:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"rslib.config.ts",children:(0,n.jsxs)(s.code,{className:"language-ts",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" default"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"  // ..."})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  resolve"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    alias"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      lodash"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'lodash-es'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,n.jsxs)(s.p,{children:["Now, all ",(0,n.jsx)(s.code,{children:"lodash"})," imports in the source code will be mapped to ",(0,n.jsx)(s.code,{children:"lodash-es"})," and bundled into the output."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"output.externals"})," is used to handle alias mapping for externalized modules. Externalized modules are not included in the bundle; instead, they are imported from external sources at runtime."]}),"\n",(0,n.jsxs)(s.p,{children:["For example, if you want to replace externalized modules ",(0,n.jsx)(s.code,{children:"react"})," and ",(0,n.jsx)(s.code,{children:"react-dom"})," with ",(0,n.jsx)(s.code,{children:"preact/compat"})," in the bundle, you can configure it as follows:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"rslib.config.ts",children:(0,n.jsxs)(s.code,{className:"language-ts",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" default"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"  // ..."})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  output"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    externals"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      react"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'preact/compat'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"      'react-dom'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'preact/compat'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,n.jsxs)(s.p,{children:["Now, the code ",(0,n.jsx)(s.code,{children:"import { useState } from 'react'"})," will be replaced with ",(0,n.jsx)(s.code,{children:"import { useState } from 'preact/compat'"}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.div,{className:"rspress-directive note",children:[(0,n.jsx)(s.div,{className:"rspress-directive-title",children:"NOTE"}),(0,n.jsx)(s.div,{className:"rspress-directive-content",children:(0,n.jsxs)(s.p,{children:["\nIn bundleless mode, since there is no bundling concept, all modules will be externalized. Rslib will automatically transform the modules resolved to the ",(0,n.jsx)(s.a,{href:"/config/lib/out-base",children:"outBase"})," directory based on the mappings configured in ",(0,n.jsx)(s.code,{children:"resolve.alias"})," or ",(0,n.jsx)(s.a,{href:"https://www.typescriptlang.org/tsconfig/#paths",rel:"noopener noreferrer",target:"_blank",children:"compilerOptions.paths"})," in ",(0,n.jsx)(s.code,{children:"tsconfig.json"}),"."]})})]}),"\n",(0,n.jsxs)(s.h2,{id:"resolvededupe",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#resolvededupe",children:"#"}),"resolve.dedupe ",(0,n.jsx)(l.J,{path:"/config/resolve/dedupe",text:"resolve.dedupe"})]}),"\n",(0,n.jsx)(s.p,{children:"Force Rsbuild to resolve the specified packages from project root, which is useful for deduplicating packages and reducing the bundle size."}),"\n",(0,n.jsxs)(s.h2,{id:"resolveextensions",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#resolveextensions",children:"#"}),"resolve.extensions ",(0,n.jsx)(l.J,{path:"/config/resolve/extensions",text:"resolve.extensions"})]}),"\n",(0,n.jsx)(s.p,{children:"Automatically resolve file extensions when importing modules. This means you can import files without explicitly writing their extensions."})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["en%2Fconfig%2Frsbuild%2Fresolve.mdx"]={toc:[{id:"resolvealiasstrategy",text:"resolve.aliasStrategy ",depth:2},{id:"resolvealias",text:"resolve.alias ",depth:2},{id:"resolvededupe",text:"resolve.dedupe ",depth:2},{id:"resolveextensions",text:"resolve.extensions ",depth:2}],title:"resolve",headingTitle:"resolve",frontmatter:{}}},5079:function(e,s,r){r.d(s,{J:()=>o});var n=r(813),i=r(6693),l=r(4210);function o(e){let{path:s,text:r,alt:o}=e,a="en"===(0,l.Jr)()?"":"/zh",t=`https://rsbuild.rs${a}${s}`;return(0,n.jsx)(i.rU,{href:t,target:"_blank",rel:"noreferrer",className:"rspress-toc-exclude",children:(0,n.jsxs)(i.Ct,{type:"info",children:[(0,n.jsx)("img",{alt:o||r,style:{height:"18px",display:"inline",pointerEvents:"none"},src:"https://assets.rspack.rs/rsbuild/rsbuild-logo.svg"}),r]})})}}}]);